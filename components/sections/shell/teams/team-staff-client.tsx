"use client";

import { Preloaded, usePreloadedQuery } from "convex/react";
import { api } from "@/convex/_generated/api";
import { TeamStaffTable } from "@/components/sections/shell/sports/basketball/team-settings/team-staff-table";

interface TeamStaffClientProps {
  preloadedStaff: Preloaded<typeof api.staff.listAllByClubSlug>;
  clubSlug: string;
  orgSlug: string;
}

export function TeamStaffClient({
  preloadedStaff,
  clubSlug,
  orgSlug,
}: TeamStaffClientProps) {
  // Hydrate the preloaded data - this ensures reactivity for real-time updates
  usePreloadedQuery(preloadedStaff);

  // TeamStaffTable uses useQuery internally, which will now be hydrated
  // with the preloaded data for instant display, then stay reactive
  return <TeamStaffTable clubSlug={clubSlug} orgSlug={orgSlug} />;
}
